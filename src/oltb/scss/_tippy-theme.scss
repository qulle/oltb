@use './variables' as oltb;

.tippy-box[data-theme~='oltb'] {
    background-color: oltb.$background-theme-dark;
    color: oltb.$background-theme-light;
    box-shadow: oltb.$box-shadow-light;
    text-shadow: oltb.$text-shadow-light;
    border-radius: oltb.$border-radius;

    .tippy-content {
        padding: .25rem .5rem;
        font-size: 0.875rem;
    }
}

.tippy-box[data-theme~='oltb'] {
    &[data-placement^='top'] > .tippy-arrow::before {
        border-top-color: oltb.$background-theme-dark;
        filter: oltb.$drop-shadow-filter-mid;
    }

    &[data-placement^='bottom'] > .tippy-arrow::before {
        border-bottom-color: oltb.$background-theme-dark;
        filter: drop-shadow(1px 0 0 rgba(0, 0, 0, .1));
    }

    &[data-placement^='left'] > .tippy-arrow::before {
        border-left-color: oltb.$background-theme-dark;
        filter: oltb.$drop-shadow-filter-mid;
    }

    &[data-placement^='right'] > .tippy-arrow::before {
        border-right-color: oltb.$background-theme-dark;
        filter: drop-shadow(0 1px 0 rgba(0, 0, 0, .1));
    }
}

body.oltb-dark {
    // Note:
    // This class is added to the popper element in the onShow callback
    // To give the tooltip a bit more constrast
    .tippy-color-picker {
        border-radius: oltb.$border-radius;
        border: 1px solid oltb.$form-input-border-color-dark;
    }
    
    .tippy-box[data-theme~='oltb-themed'] {
        background-color: oltb.$background-theme-light;
        color: oltb.$background-theme-dark;

        &.tippy-box[data-theme~='oltb'] {
            &[data-placement^='top'] > .tippy-arrow::before {
                border-top-color: oltb.$background-theme-light;
            }

            &[data-placement^='bottom'] > .tippy-arrow::before {
                border-bottom-color: oltb.$background-theme-light;
            }

            &[data-placement^='left'] > .tippy-arrow::before {
                border-left-color: oltb.$background-theme-light;
            }

            &[data-placement^='right'] > .tippy-arrow::before {
                border-right-color: oltb.$background-theme-light;
            }
        }
    }
}

body:not(.oltb-dark) {
    // Note:
    // This class is added to the popper element in the onShow callback
    // To give the tooltip a bit more constrast
    .tippy-color-picker {
        border-radius: oltb.$border-radius;
        border: 1px solid oltb.$form-input-border-color-light;
    }

    .tippy-box[data-theme~='oltb-inverted-themed'] {
        background-color: oltb.$background-theme-light;
        color: oltb.$background-theme-dark;

        &.tippy-box[data-theme~='oltb'] {
            &[data-placement^='top'] > .tippy-arrow::before {
                border-top-color: oltb.$background-theme-light;
            }

            &[data-placement^='bottom'] > .tippy-arrow::before {
                border-bottom-color: oltb.$background-theme-light;
            }

            &[data-placement^='left'] > .tippy-arrow::before {
                border-left-color: oltb.$background-theme-light;
            }

            &[data-placement^='right'] > .tippy-arrow::before {
                border-right-color: oltb.$background-theme-light;
            }
        }
    }
}